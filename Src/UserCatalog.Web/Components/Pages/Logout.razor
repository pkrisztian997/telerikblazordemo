@page "/logout"
@inject HttpClient Http
@inject NavigationManager Nav
@inject IJSRuntime JS

<PageTitle>Log out</PageTitle>

@code {
    protected override async Task OnInitializedAsync()
    {
        await Http.PostAsync("/api/user/logout", null);
        await JS.InvokeVoidAsync("cookieManager.deleteAllCookies");
        Nav.NavigateTo("/login", forceLoad: true);
    }
}
